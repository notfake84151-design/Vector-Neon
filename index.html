<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Vector Wing: Elite</title>
    <style>
        :root { --neon: #00f2ff; --pink: #ff0055; }
        body { margin: 0; background: #020205; overflow: hidden; font-family: 'Share Tech Mono', monospace; touch-action: none; }
        canvas { display: block; filter: contrast(1.2) brightness(1.1); }
        
        /* CRT Scanline Effect */
        body::before {
            content: " "; display: block; position: absolute; top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 200; background-size: 100% 2px, 3px 100%; pointer-events: none;
        }

        #ui { position: fixed; top: 25px; left: 25px; color: var(--neon); z-index: 100; letter-spacing: 2px; }
        #start-overlay { 
            position: fixed; inset: 0; background: radial-gradient(circle, #101025 0%, #020205 100%); 
            display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 300; color: white;
        }
        .btn { 
            background: transparent; border: 1px solid var(--neon); color: var(--neon); 
            padding: 15px 50px; font-size: 18px; cursor: pointer; text-transform: uppercase;
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.3); transition: 0.3s;
        }
        .btn:hover { background: var(--neon); color: #000; box-shadow: 0 0 30px var(--neon); }
    </style>
</head>
<body>

    <audio id="bgm" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3" type="audio/mpeg">
    </audio>

    <div id="ui">
        <div style="font-size: 20px;">CORE_EXP: <span id="score">0</span></div>
        <div style="font-size: 10px; opacity: 0.6; margin-top: 5px;">STABILITY: STABLE</div>
    </div>

    <div id="start-overlay" onclick="start()">
        <div style="font-size: 12px; color: var(--neon); margin-bottom: 10px;">NEON_PROTOCOL_v4.0</div>
        <h1 style="letter-spacing: 15px; margin: 0 0 40px 0; text-shadow: 0 0 20px var(--neon);">VECTOR WING</h1>
        <button class="btn">SYNC & START</button>
    </div>

    <canvas id="canvas"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const scoreEl = document.getElementById('score');
        const bgm = document.getElementById('bgm');
        
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let ship, obstacles, particles, score, gameActive, frame;
        let keys = { left: false, right: false };

        function init() {
            ship = {
                x: canvas.width / 2,
                y: canvas.height * 0.8,
                w: 18,
                h: 22,
                angle: -Math.PI / 2,
                velocity: 5,
                turnSpeed: 0.09,
                trail: []
            };
            obstacles = [];
            particles = [];
            score = 0;
            gameActive = true;
        }

        window.addEventListener('touchstart', (e) => {
            const touchX = e.touches[0].clientX;
            if (touchX < canvas.width / 2) keys.left = true;
            else keys.right = true;
        });

        window.addEventListener('touchend', () => { keys.left = false; keys.right = false; });

        function createParticle(x, y) {
            particles.push({
                x: x, y: y,
                vx: (Math.random() - 0.5) * 2,
                vy: Math.random() * 2 + 2,
                life: 1,
                color: Math.random() > 0.5 ? '#00f2ff' : '#ff0055'
            });
        }

        function update() {
            if (!gameActive) return;

            if (keys.left) ship.angle -= ship.turnSpeed;
            if (keys.right) ship.angle += ship.turnSpeed;

            ship.x += Math.cos(ship.angle) * ship.velocity;
            if (ship.x < 0) ship.x = canvas.width;
            if (ship.x > canvas.width) ship.x = 0;

            // Exhaust Particles
            if (frame % 2 === 0) createParticle(ship.x, ship.y + 10);

            ship.trail.push({ x: ship.x, y: ship.y });
            if (ship.trail.length > 25) ship.trail.shift();

            if (frame % 35 === 0) {
                const size = Math.random() * 40 + 20;
                obstacles.push({ x: Math.random() * canvas.width, y: -size, w: size, h: size, speed: 5 + (score/200) });
            }

            obstacles.forEach((obs, i) => {
                obs.y += obs.speed;
                if (ship.x > obs.x && ship.x < obs.x + obs.w && ship.y > obs.y && ship.y < obs.y + obs.h) gameOver();
                if (obs.y > canvas.height) { obstacles.splice(i, 1); score += 5; scoreEl.innerText = score; }
            });

            particles.forEach((p, i) => {
                p.x += p.vx; p.y += p.vy; p.life -= 0.02;
                if (p.life <= 0) particles.splice(i, 1);
            });

            draw();
            frame = requestAnimationFrame(update);
        }

        function draw() {
            ctx.fillStyle = '#020205';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Particles
            particles.forEach(p => {
                ctx.globalAlpha = p.life;
                ctx.fillStyle = p.color;
                ctx.fillRect(p.x, p.y, 2, 2);
            });
            ctx.globalAlpha = 1;

            // Trail
            ctx.beginPath();
            ctx.strokeStyle = 'rgba(0, 242, 255, 0.4)';
            ctx.lineWidth = 2;
            ship.trail.forEach(p => ctx.lineTo(p.x, p.y));
            ctx.stroke();

            // Ship
            ctx.save();
            ctx.translate(ship.x, ship.y);
            ctx.rotate(ship.angle + Math.PI / 2);
            ctx.shadowBlur = 15; ctx.shadowColor = '#00f2ff';
            ctx.strokeStyle = '#fff'; ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, -ship.h/2); ctx.lineTo(ship.w/2, ship.h/2); ctx.lineTo(-ship.w/2, ship.h/2);
            ctx.closePath(); ctx.stroke();
            ctx.restore();

            // Obstacles
            ctx.shadowBlur = 0;
            ctx.strokeStyle = '#ff0055';
            obstacles.forEach(obs => ctx.strokeRect(obs.x, obs.y, obs.w, obs.h));
        }

        function gameOver() {
            gameActive = false;
            bgm.pause();
            document.getElementById('start-overlay').style.display = 'flex';
            document.getElementById('start-overlay').innerHTML = `
                <div style="color: #ff0055; font-size: 40px; margin-bottom: 10px;">CRITICAL_FAILURE</div>
                <div style="color: #fff; margin-bottom: 30px;">SCORE_RECOVERED: ${score}</div>
                <button class="btn" onclick="location.reload()">RE-BOOT SYSTEM</button>
            `;
        }

        function start() {
            document.getElementById('start-overlay').style.display = 'none';
            bgm.play().catch(() => console.log("Audio needs user tap"));
            init(); frame = 0; update();
        }
    </script>
</body>
</html
